<!DOCTYPE html>
<html>
  <head>
    <title>Print Generic</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="global.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://outfit-assets-production.s3.amazonaws.com/fonts/Bureau%20Grot%20Condensed/stylesheet.css">
    <link rel="stylesheet" type="text/css" href="https://outfit-assets-production.s3.amazonaws.com/fonts/Bureau%20Grot/stylesheet.css">
    <link rel="stylesheet" type="text/css" href="https://outfit-assets-production.s3.amazonaws.com/fonts/Plantin/stylesheet.css">
    <style>
      .page { background-color: white !important; }
      .test {
        /* background-image: url('https://outfit-v2-exports-production.s3-accelerate.amazonaws.com/media_library_items/c52affcc236c06068e6c7bfe05d2b4c1/DL%20flyer%20SS.png');         */
        opacity: 0.7;
        z-index: 100;
        position: absolute;
        top: 3mm;
        bottom: 3mm;
        left: 3mm;
        right: 3mm;
        background-position: center;
        background-repeat: no-repeat;
        pointer-events: none;
      }
      @import url('https://outfit-assets-production.s3.amazonaws.com/fonts/Bureau%20Grot%20Condensed/stylesheet.css');
      @import url('https://outfit-assets-production.s3.amazonaws.com/fonts/Bureau%20Grot/stylesheet.css');
      @import url('https://outfit-assets-production.s3.amazonaws.com/fonts/Plantin/stylesheet.css');

      body {
        font-family: "Plantin MT Std", sans-serif;
        color: #252525;
      }

      h1, h2, h3, h4 {
        font-family: "Bureau Grot Condensed", sans-serif;
        font-weight: bold;  
        line-height: 1.2em;
        margin: 0.25em 0 0.75em;
      }

      h1 {
        font-size: 39pt;
        line-height: 0.9em;
        text-transform: uppercase;
        margin: 0 0 0.3em;
        color: {{{ account.colors.dark-blue }}};
      }

      h2 {
        font-size: 10.5pt;
        color: {{{ account.colors.primary }}}; 
        font-weight: normal;
      }

      h3 {
        font-size: 9pt;
      }

      h4 {
        font-size: 7.5pt;
      }

      p, ul, ol {
        font-size: 8.5pt; 
        margin: 0.25em 0 0.5em;
      }

      ol li, 
      ul li {  
        padding-left: 5pt;
        margin: 0.25em 0 0.5em;
        position: relative;
      }

      ol li::before,
      ul li::before {
        content: '\2022';
        position: absolute;
        left: 0;
        top: 0;
        color: {{{account.colors.brand-red}}};
      }

      a {
        font-weight: bold;
        text-decoration: none;
        color: inherit !important;
      }

      .image-container {
        position: relative;
        overflow: hidden;
      }

      .wrapper { 
        display: -webkit-box;  
        display: -ms-flexbox;  
        display: flex;
        flex-direction: column;  
        height: 100%;
        padding: calc(5mm + 3mm);
        position: relative;  
      }

      .hero-image {
        position: relative;
        width: 100%;
        height: 190pt;
      }

      .overlay {
        background: rgba(167,169,172, 0.8);
        mix-blend-mode: multiply;
      } 

      .overlay.overlay-top-left {
        clip-path: polygon(0 0, 100% 0, 100% 32%, 18.5% 32%, 18.5% 100%, 0 100%);  
      }

      .overlay.overlay-top-right {
        clip-path: polygon(0 0, 100% 0, 100% 100%, 81.5% 100%, 81.5% 32%, 0 32%);
      }

      .overlay.overlay-bottom-right {
        clip-path: polygon(81.5% 0, 100% 0, 100% 100%, 0 100%, 0 68%, 81.5% 68%, 81.5% 0);
      }

      .overlay.overlay-bottom-left {
        clip-path: polygon(0 0, 47% 0, 47% 68%, 100% 68%, 100% 100%, 0 100%);
      } 

      .logo {
        width: 81pt;
        height: 61pt;
        position: absolute;
        top: 20pt;
        left: 16pt;
        z-index: 2;
        background-image: url('https://outfit-v2-exports-production.s3-accelerate.amazonaws.com/media_library_items/58c42af31a9d253e14a079db30141230/adelaide-logo-white.svg');  
      }

      .logo.logo-black {
        background-image: url('https://outfit-v2-exports-production.s3-accelerate.amazonaws.com/media_library_items/f51d18f3be6ad6a13b1bc40750f9201a/adelaide-logo-black.svg');
      }

      .main {
        padding: 21pt 7pt;
        flex: 1;
        display: flex;
        flex-direction: column;
        position: relative;
      }

      .main h2 {
        font-weight: bold;
      }

      .header {
        max-height: 3.6em;
      }

      .body-copy {
        flex: 1;
      }

      .enquiries {  
        font-family: "Bureau Grot Condensed", sans-serif;
        margin-top: 23.5pt;
      }

      .enquiries--hide {
        display: none;
      }

      .enquiries h2 {
        margin-bottom: 3pt;
      }

      .enquiry {
        color: {{{ account.colors.dark-blue }}};
        font-family: "Bureau Grot", sans-serif;
        font-weight: 300;
        font-size: 8pt;
        margin: 0 0 2pt;
      }

      h3, h4 {
        color: {{{ account.colors.dark-blue }}};
      }

      .enquiry label {
        font-family: "Bureau Grot Condensed", sans-serif;
        text-transform: uppercase;
        font-weight: bold;
      }

      .url {
        font-size: 17pt;
        letter-spacing: 0;
        color: {{{ account.colors.dark-blue }}};
        margin: 0;
        position: absolute;
        bottom: 3pt;
      }

      .code {
        font-family: "Bureau Grot", sans-serif;
        position: absolute;
        font-size: 6.5pt;
        line-height: 7.8pt;
        font-weight: 300;
        transform: rotate(-90deg);
        transform-origin: bottom left;
        left: 345px;
        bottom: -3pt;
        white-space: nowrap;  
      }

      .header h1 {
        font-size: 39pt;
        line-height: 36pt;
        margin: 0;
        padding: 0 0 3mm 0;
      }

      .box-inner h2 {
        font-size: 10.5pt;
        line-height: 12pt;
        margin: 0;
        padding: 2mm 0 1.5mm 0;
      }

      .box-inner h3 {
        font-size: 9pt;
        line-height: 10.5pt;
        margin: 0;
        padding: 1.5mm 0;
      }

      .box-inner h4 {
        font-size: 7.5pt;
        line-height: 9pt;
        margin: 0;
        padding: 1mm 0 1.5mm 0;
      }

      .box-inner p {
        font-size: 8.5pt;
        line-height: 10pt;
        margin: 0;
        padding: 0 0 1.5mm 0;
      }
      
      .body-copy.box-overflow {
        max-height: 366px;
      }

    </style>
  </head>
  <body style="background: white">
    <div class="page">
      <div class="bleed">
        <div class="test contain"></div>
        <div class="fit">
          <div class="wrapper">
            <div class="hero-image image-container">
              {{{hero-image}}}
              <div class="fit overlay overlay-{{ hero-image-overlay }}{{^hero-image-overlay}}top-left{{/hero-image-overlay}}"></div>
              <div class="logo logo-{{logo-color}}{{^logo-color}}white{{/logo-color}} contain"></div>
            </div>
            <div class="main">
              <h1 class="header text-overflow" style="font-size: {{{ header-font-size }}}pt;">{{{ header }}}</h1>
              <div class="body-copy box-overflow">
                <div class="box-inner">                                    
                  {{{ body-copy }}}
                  <div class="enquiries enquiries--{{{UOA_enquiries--fdl}}}">
                    {{#collection.further-information-collection}}
                    <h2>For further information</h2>
                    {{#address}}
                    <p class="enquiry">                        
                      <span>{{{ address }}}</span>
                    </p>
                    {{/address}}
                    {{#enquiries}}
                    <p class="enquiry">       
                      <label>Enquiries</label>
                      <span>{{{ enquiries }}}</span>
                    </p>
                    {{/enquiries}}
                    {{#telephone}}
                    <p class="enquiry">       
                      <label>Telephone</label>
                      <span>{{{ telephone }}}</span>
                    </p>
                    {{/telephone}}
                    {{#free-call}}
                    <p class="enquiry">       
                      <label>Free Call</label>
                      <span>{{{ free-call }}}</span>
                    </p>
                    {{/free-call}}
                    {{/collection.further-information-collection}}
                  </div>                  
                </div>                
              </div>
              {{#url}}<h3 class="url">{{{url}}}</h3>{{/url}}{{^url}}<h3 class="url">adelaide.edu.au</h3>{{/url}}
              <div class="code">Outfit Job No: <span data-project-code></span> CRICOS: 00123M</div>
            </div>                        
          </div>
        </div>          
      </div>
    </div>        

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
      window.showCrop = {{show-crop}}{{^show-crop}}false{{/show-crop}};
    </script>
    <script>
      if (showCrop) {
        document.querySelector('body').classList.add('crop');
      }

      var cropImage = 'https://outfit-v2-exports-production.s3-accelerate.amazonaws.com/media_library_items/bdb964a7c7fdc5ebc8bbde9204b62464/crop.svg'

      Array.prototype.slice.call(document.querySelectorAll('.page'))
        .forEach(function(page) {
        var parser = new DOMParser();
        page.style.cssText = 'overflow: hidden; position: relative; height: 100vh; width: 100vw';

        var cropString = (
          '<div class="crop-marks">' +
          '<img style="height: 28.81px; width: 28.81px; position: absolute; top: 0; left: 0;" src="'+cropImage+'">' +
          '<img style="height: 28.81px; width: 28.81px; transform: rotate(90deg); position: absolute; top: 0; right: 0;" src="'+cropImage+'">' +
          '<img style="height: 28.81px; width: 28.81px; transform: rotate(180deg); position: absolute; bottom: 0; right: 0;" src="'+cropImage+'">' +
          '<img style="height: 28.81px; width: 28.81px; transform: rotate(270deg); position: absolute; bottom: 0; left: 0;" src="'+cropImage+'">' +
          '</div>'
        )

        var cropNode = parser.parseFromString(cropString, "text/html").body.firstChild;

        !!window.showCrop && page.insertBefore(cropNode, null);
      }
                );

      Array.prototype.slice.call(document.querySelectorAll('.bleed'))
        .forEach(function(bleed){
        bleed.style.cssText = !!window.showCrop ?
          'position: absolute; top: 4.41mm; right: 4.41mm; bottom: 4.41mm; left: 4.41mm;'
        :
        'position: absolute; top: -3mm; right: -3mm; bottom: -3mm; left: -3mm'
      });

      function checkLimitedText() {
        Array.prototype.slice.call(document.querySelectorAll('.text-overflow'))
          .forEach(function(e) {
          const height = $(e).height();          	
          const maxHeight = $(e).data('limit') 
          ? parseFloat($(e).data('limit'))
          : $(e).css('max-height');

          $(e)
            .css('max-height', 'none')
            .attr('data-limit', maxHeight);

          if (height > maxHeight) {
            e.classList.add("overflow");
          } else {
            e.classList.remove("overflow");
          }
        });
      }

      function checkLimitedBox() {
        Array.prototype.slice.call(document.querySelectorAll('.box-overflow'))
          .forEach(function(e) {
          const maxHeight = $(e).height();
          const height = $(e).children('.box-inner').outerHeight();

          if (height > maxHeight) {
            e.classList.add("overflow");
          } else {
            e.classList.remove("overflow");
          }
        });
      }

      function loop() {
        checkLimitedText();
        checkLimitedBox();
      } setInterval(loop, 1000);


    </script>   
    <script src="prefixfree.js"></script>   

    <script src="https://outfit-assets-production.s3.amazonaws.com/scripts/projectCode.1.0.0.js"></script>
    <script>window.setProjectCode('[ID]');</script>             
  </body>
</html>